import{d as y,u as V,c as h,a as k,b as a,e as o,w as t,f as s,E as x,o as E,g as C,h as R,i as S,j as q,k as u,l as m,m as B,n as N,p as Q,q as z,r as A,t as F,s as c,v}from"./index-D5Rhts30.js";import{a as I}from"./index-Be1OEmQm.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"login-container"},M={class:"login-content"},T=y({__name:"LoginView",setup(U){const f=C(),g=R(),b=V(),d=c(),i=c(!1),r=c({username:"",password:""}),w={username:[{required:!0,message:"è¯·è¾“å…¥ç”¨æˆ·å",trigger:"blur"}],password:[{required:!0,message:"è¯·è¾“å…¥å¯†ç ",trigger:"blur"},{min:6,message:"å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½",trigger:"blur"}]},n=async()=>{d.value&&await d.value.validate(async p=>{if(p){i.value=!0;try{const e=await I.login(r.value.username,r.value.password);b.setAuth(e.data.token,e.data.user),v.success("ç™»å½•æˆåŠŸ");const l=g.query.redirect;f.push(l||"/dashboard")}catch(e){const l=e.response?.data?.error||"ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç ";v.error(l)}finally{i.value=!1}}})},_=()=>{f.push("/register")};return(p,e)=>(E(),h("div",K,[e[5]||(e[5]=k('<div class="bg-decoration" data-v-4b36fbff><div class="deco-circle deco-1" data-v-4b36fbff></div><div class="deco-circle deco-2" data-v-4b36fbff></div><div class="deco-circle deco-3" data-v-4b36fbff></div><div class="deco-leaf deco-leaf-1" data-v-4b36fbff></div><div class="deco-leaf deco-leaf-2" data-v-4b36fbff></div></div>',1)),a("div",M,[o(s(x),{class:"login-card"},{default:t(()=>[e[3]||(e[3]=a("div",{class:"card-header"},[a("div",{class:"logo-wrapper"},[a("span",{class:"logo-icon"},"ğŸŒ¾")]),a("h2",{class:"title"},"QQå†œåœºç®¡ç†ç³»ç»Ÿ"),a("p",{class:"subtitle"},"æ™ºèƒ½å†œåœºè‡ªåŠ¨åŒ–ç®¡ç†å¹³å°")],-1)),o(s(S),{ref_key:"formRef",ref:d,model:r.value,rules:w,"label-position":"top",class:"login-form",onSubmit:q(n,["prevent"])},{default:t(()=>[o(s(u),{label:"ç”¨æˆ·å",prop:"username"},{default:t(()=>[o(s(m),{modelValue:r.value.username,"onUpdate:modelValue":e[0]||(e[0]=l=>r.value.username=l),placeholder:"è¯·è¾“å…¥ç”¨æˆ·å","prefix-icon":s(B),size:"large"},null,8,["modelValue","prefix-icon"])]),_:1}),o(s(u),{label:"å¯†ç ",prop:"password"},{default:t(()=>[o(s(m),{modelValue:r.value.password,"onUpdate:modelValue":e[1]||(e[1]=l=>r.value.password=l),type:"password",placeholder:"è¯·è¾“å…¥å¯†ç ","prefix-icon":s(Q),size:"large","show-password":"",onKeyup:N(n,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),o(s(u),{class:"form-actions"},{default:t(()=>[o(s(z),{type:"primary",size:"large",loading:i.value,class:"login-btn",onClick:n},{default:t(()=>[A(F(i.value?"ç™»å½•ä¸­...":"ç™» å½•"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),a("div",{class:"register-link"},[e[2]||(e[2]=a("span",null,"è¿˜æ²¡æœ‰è´¦å·ï¼Ÿ",-1)),a("a",{onClick:_},"ç«‹å³æ³¨å†Œ")])]),_:1}),e[4]||(e[4]=a("p",{class:"copyright"},"Â© 2024 QQå†œåœºç®¡ç†ç³»ç»Ÿ Â· è®©å†œåœºç®¡ç†æ›´ç®€å•",-1))])]))}}),H=L(T,[["__scopeId","data-v-4b36fbff"]]);export{H as default};
